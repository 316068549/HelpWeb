<div id="page-wrapper" class="fadeInRight animated marg220">
<div class="page-t">
  <div class="page-nav">
    <a  href="javascript:;">设备管理</a>
    <a  routerLinkActive="active" >设备信息</a>
  </div>
  <router-outlet></router-outlet>
  <div class="search-box">
    <span class="xt-search">
                <select #searchBox id="rescueTeam" required name="rescueTeam"  class="form-select" >
            <option value="" selected = "selected">所有救援队</option>
            <option *ngFor="let rescue of rescueTeams" [value]="rescue.rescueTeamId">{{rescue.name}}</option>
          </select>
      <!--<input #searchBox type="text" id="search-box"  class="form-box"-->
      <!--placeholder="请输入名字">-->
           <button class="btn-red btns" (click)="search2(searchBox.value)" type="submit">搜索</button>
  <!--<span>-->
          <!--<span *ngFor="let menu of menus | async"-->
                <!--(click)="gotoDetail(menu)" class="search-result"  > {{menu.menuTitle}}</span>-->
        <!--</span>-->
   </span>
    <!--<button (click)="tjmenu=true; clicked=true;tjmenuform.reset();" class="btn-blue btns" type="button">+添加设备</button>-->
  </div>

</div>
<div class="J_mainContent" id="content-main">
  <div class="wrapper wrapper-content">
    <!--<track-map></track-map>-->
    <div class="xt-list">
      <table class="table table-striped">
        <thead>
        <tr>
          <th >
            序号
          </th>
          <th>
            设备使用者
          </th>
          <th>
            设备报警时间
          </th>
          <th>
            报警地点
          </th>
          <th>
            报警原因
          </th>
          <th>
            救援人
          </th>
          <th>
            接单时间
          </th>
          <th>
            所属救援大队
          </th>
          <th>
            救援结果
          </th>
          <th>
            备注
          </th>
          <th>
            图片和视频
          </th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let rescue of rescuePapers; let i = index;"  (click)="onSelect(rescue)">
          <td>{{rescue.taskId}}</td>
          <td >{{rescue.sosName}}</td>
          <td >{{rescue.sosTime}}</td>
          <td>{{rescue.sosAddress}}</td>
          <td>{{rescue.sosReason}}</td>
          <td>{{rescue.voName}}</td>
          <td>{{rescue.receiveTime}}</td>
          <td>{{rescue.rescueTeam}}</td>
          <td>{{rescue.dealResult}}</td>
          <td>{{rescue.remark}}</td>
          <td>&nbsp;&nbsp;
            <a  [routerLink]="['detail', rescue.taskId]" >查看</a>&nbsp;&nbsp;&nbsp;&nbsp;

          </td>
        </tr>
        </tbody>
      </table>

    </div>
    <!--分页组件-->
    <div class="col-md-12 text-right margin-bottom mt25" *ngIf="rescuePapers">
      <a class="pull-left text-sm wordHei">总计 {{totalNum}} 条，第 {{curPage}} / {{totalPage}} 页</a>

      <button class="btn btn-default next"  (click)="changePage(pageList[curPage-3],curPage-2)"
              [disabled]="curPage==1">上一页</button>
      <button class="btn btn-default"  [disabled]="curPage==x.pageNum" [ngClass]="x.isActive?'btn-primary':'btn-oprate'"
              [hidden]="x.pageNum<curPage-1&&curPage>3&&x.pageNum!=1"
              (click)="changePage(x,i)"  *ngFor="let x of pageList;let i = index;">
        {{x.pageNum-(curPage+1)==2&&x.pageNum>5&&x.pageNum!=pageList.length||
        curPage-x.pageNum==1&&x.pageNum!=1&&curPage>3||x.pageNum==6&&curPage<=3?'...':x.pageNum}}
      </button>
      <button class="btn btn-default next"  (click)="changePage(pageList[curPage-1],curPage)"
              [disabled]="curPage==pageList.length">下一页</button>
    </div>
    <div class="col-md-12 text-center text-sm text-dark-gray mt10" *ngIf="isEmpty">
      没有查询到数据
    </div>
  </div>
</div>
</div>

